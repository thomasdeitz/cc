<!DOCTYPE html>
<html>

  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-K5VDC2FEB0"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/vue-router@4.0.15/dist/vue-router.global.js"></script>
    <script type="text/javascript" src="//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js"></script>
    <script type="text/javascript">(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';fnames[3]='ADDRESS';ftypes[3]='address';fnames[4]='PHONE';ftypes[4]='phone';fnames[5]='BIRTHDAY';ftypes[5]='birthday';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-K5VDC2FEB0");
    </script>

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Candy Cigarette Band</title>
    <meta name="description" content="Candy Cigarette is an original progressive blues rock band. Lucas Deitz: Vocals / Guitar / Piano // Isaac Deitz: Vocals / Bass / Guitar / Organ // Evan Sterken: Drums" />
    <meta name="keywords" content="Candy Cigarette, Candy Cigarettes, Candy Cigarette Band, Band, Acoustic, Blues, Country, Rock, Southern, Southern Rock, Heavy Blues, Isaac, Lucas, Deitz, WI, Wisconsin, Waukesha, Oconomowoc, Milwaukee, West Bend, Watertown, East Troy, Evan Sterken, Evan, Sterken" />
    
    <link rel="shortcut icon" href="./assets/Candy_Cigarette_Band_EP_Stickers.png" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link href="//cdn-images.mailchimp.com/embedcode/classic-061523.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css2?family=Barlow+Semi+Condensed:wght@300;600&family=Playfair+Display:wght@700&display=swap" rel="stylesheet" />
    <link href="https://fonts.cdnfonts.com/css/excalibur-nouveau" rel="stylesheet">
    <link rel="stylesheet" href="./styles.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />

    <!-- pages -->
    <script src="./pages/bio.vue.js"></script>
    <script src="./pages/contact.vue.js"></script>
    <script src="./pages/dates.vue.js"></script>
    <script src="./pages/home.vue.js"></script>
    <script src="./pages/music.vue.js"></script>
    <script src="./pages/store.vue.js"></script>

    <!-- components -->
    <script src="./components/header.vue.js"></script>
    <script src="./components/footer.vue.js"></script>
    <script src="./components/section.vue.js"></script>
    <script src="./components/icons.vue.js"></script>
    <script src="./components/logo.vue.js"></script>
    <script src="./components/connections.vue.js"></script>
    <script src="./components/hero.vue.js"></script>
    <script src="./components/dates.vue.js"></script>
    <script src="./components/contacts.vue.js"></script>
    <script src="./components/subscribe.vue.js"></script>
    <script src="./components/setlist.vue.js"></script>
    <script src="./components/videos.vue.js"></script>

    <!-- data -->
    <script src="./data/shows.js"></script>
    <script src="./data/songs.js"></script>
    <script src="./components/routes.vue.js"></script>
    <script>
      // when life is settled, load up the fun stuff
      document.addEventListener("DOMContentLoaded", function () {
        const CandyCigarette = { 
          el: "#app"
        };

        const app = Vue.createApp(CandyCigarette);
          app.component("Contacts", Contacts);
          app.component("Subscribe", Subscribe);
          app.component("Connections", Connections);
          app.component("Hero", Hero);
          app.component("Logo", Logo);
          app.component("Videos", Videos);
          app.component("Dates", Dates);
          app.component("Setlist", Setlist);
          app.component("Pageheader", Pageheader);
          app.component("Pagefooter", Pagefooter);
          app.component("Section", Section);
          app.component("Facebook", Facebook);
          app.component("Instagram", Instagram);
          app.component("AppleMusic", AppleMusic);
          app.component("Spotify", Spotify);
          app.component("SoundCloud", SoundCloud);
          app.component("Bandcamp", Bandcamp);
          app.component("YouTube", YouTube);
          app.use(router);
          app.mount("#app");
      });
    </script>
  </head>

  <body>
    <div id="app">
      <div :class="$route.meta.props.bodyClass">
        <Pageheader></Pageheader>
        <main>
          <router-view></router-view>
        </main>
        <Pagefooter></Pagefooter>
      </div>
    </div>
  </body>
  <script>
    function calculateDistance(lat1, lon1, lat2, lon2) {
    const R = 6371; // Radius of the earth in km
    const dLat = (lat2 - lat1) * Math.PI / 180;  // deg2rad below
    const dLon = (lon2 - lon1) * Math.PI / 180;
    const a = 
        Math.sin(dLat / 2) * Math.sin(dLat / 2) +
        Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * 
        Math.sin(dLon / 2) * Math.sin(dLon / 2)
        ; 
    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)); 
    const distanceInKm = R * c; // Distance in km
    const distanceInMiles = distanceInKm * 0.621371; // Convert km to miles
    return distanceInMiles;
}

function dateDifferenceInDays(date1, date2) {
    const oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds
    const firstDate = new Date(date1);
    const secondDate = new Date(date2);
    const diffDays = Math.round(Math.abs((firstDate - secondDate) / oneDay));
    return diffDays;
}

// Coordinates of cities
const coordinates = {
    "West Allis": { lat: 43.0167, lon: -88.0073 },
    "Marshall": { lat: 43.1683, lon: -89.0125 },
    "Hartford": { lat: 43.3173, lon: -88.3789 },
    "Janesville": { lat: 42.6828, lon: -89.0187 },
    "West Bend": { lat: 43.4253, lon: -88.1834 },
    "Marinette": { lat: 45.1000, lon: -87.6300 },
    "Cambria": { lat: 43.5475, lon: -89.1163 },
    "Waukegan": { lat: 42.3636, lon: -87.8448 },
    "Hubertus": { lat: 43.2324, lon: -88.2624 },
    "Round Lake Heights": { lat: 42.3808, lon: -88.0654 },
    "Baraboo": { lat: 43.4711, lon: -89.7443 },
    "Waukesha": { lat: 43.0117, lon: -88.2315 },
    "Green Bay": { lat: 44.5133, lon: -88.0133 },
    "Madison": { lat: 43.0731, lon: -89.4012 },
    "Winter Park": { lat: 39.9251, lon: -105.7813 },  // Winter Park, CO (not provided)
    "Saukville": { lat: 43.3842, lon: -87.9469 },
    "Thiensville": { lat: 43.2261, lon: -87.9825 },  // Thiensville, WI (not provided)
    "Milwaukee": { lat: 43.0389, lon: -87.9065 },
    "Arcadia": { lat: 44.2519, lon: -91.4874 },  // Arcadia, WI (not provided)
    "Oconomowoc": { lat: 43.1117, lon: -88.4993 },
    "Johnson Creek": { lat: 43.0828, lon: -88.7713 },
    "East Troy": { lat: 42.7850, lon: -88.4004 },
    "Sullivan": { lat: 43.0107, lon: -88.5994 }
}

// Dates of events
const eventDates = {
  "West Allis": "04.27.24",
    "Marshall": "05.17.24",
    "Hartford": "05.18.24",
    "Janesville": "05.25.24",
    "West Bend": "05.31.24",
    "Marinette": "06.01.24",
    "Cambria": "06.07.24",
    "Waukegan": "06.08.24",
    //"Hubertus": "06.12.24",
    "Round Lake Heights": "06.14.24", 
    "Baraboo": "06.16.24",
    "Waukesha": "06.21.24",
    "Green Bay": "06.22.24",
    "Madison": "06.23.24",
    //"Hubertus": "06.26.24",
    "Winter Park": "06.28.24", 
    "Saukville": "07.19.24",
    "Thiensville": "07.20.24", 
    //"Hubertus": "07.24.24",
    "Milwaukee": "07.27.24",
    "Madison": "07.28.24",
    "Baraboo": "08.02.24",
    "West Bend": "08.03.24",
    //"Hubertus": "08.07.24",
    "Arcadia": "08.09.24",
    "Thiensville": "08.11.24",
    "Oconomowoc": "08.15.24",
    "Johnson Creek": "08.18.24",
    //"Hubertus": "08.21.24",
    "Janesville": "08.23.24",
    "East Troy": "08.24.24",
    "Sullivan": "09.07.24",
    "Oconomowoc": "09.13.24",
    "Marinette": "09.14.24",
    "West Bend": "09.20.24",
}

// Calculate distances less than 30 miles and dates less than 50 days apart
for (const city1 in coordinates) {
    for (const city2 in coordinates) {
        if (city1 !== city2) {
            const distance = calculateDistance(
                coordinates[city1].lat, coordinates[city1].lon,
                coordinates[city2].lat, coordinates[city2].lon
            );
            if (distance < 30) {
                const date1 = new Date(eventDates[city1]);
                const date2 = new Date(eventDates[city2]);
                const daysApart = Math.abs(date1 - date2) / (1000 * 60 * 60 * 24);
                if (daysApart < 30) {
                    console.log(`${city1} - ${city2}: Distance - ${distance} miles, Days Apart - ${daysApart} days`);
                }
            }
        }
    }
}

  </script>
</html>